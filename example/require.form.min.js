/* 2014 - requireForm by Alison Monteiro https://github.com/alisonmonteiro */ (function(){"use strict";function e(e){if(window.console&&console.log)console.log("[formRequire] "+e)}function t(t){if(t.length>1)e("Select only one element.");return}function n(e,t,n){for(var r=e.indexOf(t);-1<r;)e=e.replace(t,n),r=e.indexOf(t);return e}function r(e){var t=!1;if("undefined"!=typeof e&&(e=e.match(/(\w+)@(.+)\.(\w+)$/),null!=e&&(2==e[3].length||3==e[3].length)))t=!0;return t}function i(e){var t=document.getElementsByTagName("label");for(var n=0;n<t.length;n++)if(t[n].htmlFor==e)return t[n]}$.fn.formRequire=function(s){if("undefined"==typeof s){var s={}}var o={selector:this.selector,context:this.context};if($(o.selector).is("form")){var u=o.selector;t($(u));$(u).submit(function(t){var o="input, select ,textarea",a,f,l,c=true;$.each($(o,u),function(){a=$(this);f=a.attr("data-required");l=a.val();l=n(l," ","");if(f==="true"){if(l==""){$(a).addClass("fr fr-error");$(i(a.attr("name"))).addClass("fr fr-error");c=false}else{if(a.attr("type")=="email"){if(!r(l)){$(a).addClass("fr fr-error");$(i(a.attr("name"))).addClass("fr fr-error");c=false}else{$(a).removeClass("fr fr-error");$(i(a.attr("name"))).removeClass("fr fr-error")}}else if(a.attr("type")=="radio"||a.attr("type")=="checkbox"){if(!$('[name="'+a.attr("name")+'"]').is(":checked")){$(a).addClass("fr fr-error");$(i(a.attr("name"))).addClass("fr fr-error");c=false}else{$(a).removeClass("fr fr-error");$(i(a.attr("name"))).removeClass("fr fr-error")}}else{$(a).removeClass("fr fr-error");$(i(a.attr("name"))).removeClass("fr fr-error")}}}});if(c){if("undefined"!=typeof s.after){return s.after(u)}else{return true}}else{if("undefined"==typeof s.messageError||s.messageError==""||null==s.messageError){s.messageError="Preencha todos os campos"}if(s.typeAlertError=="messageBox"||"undefined"==typeof s.typeAlertError||s.typeAlertError==""||null==s.typeAlertError){var h;if("undefined"!=typeof s.messageBox){if($(u).parent().find(s.messageBox).length==1){$(h).slideUp("fast");h=s.messageBox}else{e("The messageBox isn't in group with the form.");if($(u).parent().find("#fr-message-area").length==0){h=$("<div id='fr-message-area' class='fr fr-message-area' style='display: none;'></div>");$(u).before(h)}h="#fr-message-area"}}else{if($(u).parent().find("#fr-message-area").length==0){h=$("<div id='fr-message-area' class='fr fr-message-area' style='display: none;'></div>");$(u).before(h)}h="#fr-message-area"}$(h).html(s.messageError);$(h).slideDown("fast");setTimeout(function(){$(h).slideUp("fast")},3500)}else{alert(s.messageError)}}return false})}else{e("The selected element isn't a form.");return}}})($)
